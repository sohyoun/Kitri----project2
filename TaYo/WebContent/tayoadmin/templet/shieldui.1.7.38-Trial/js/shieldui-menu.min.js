/* Shield UI 1.7.38 Trial Version | Copyright 2013-2019 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(a,b,c,d){var e,f,g,h,i,j,k=b.ui.Widget,l=(b.Class,b.DataSource),m=b.ui.Position,n=b.Constants.KeyCode,o=b.strid,p=document,q=a.proxy,r=a.each,s=a.grep,t=a.extend,u=b.error,v=b.format,w=b.is.defined,x=b.is["boolean"],y=b.is.integer,z=b.is.func,A="id",B="role",C="true",D="false",E="aria-expanded",F="aria-activedescendant",G="horizontal",H="vertical",I="click",J="focus",K="blur",L="change",M="keydown",N="tabindex",O="disabled",P="sui-menu-item-level",Q="sui-menu-item-expanded",R="sui-menu-item-disabled",S="sui-menu-item-selected",T="sui-menu-item-index",U="sui-menu-item-hover",V="sui-menu-item-data-item",W="sui-menu-item-parent",X="sui-menu-item-cc",Y="sui-menu-item-cc-parent";e={cls:d,width:d,height:d,dataSource:d,readDataSource:!0,orientation:G,delay:100,animation:{enabled:!0,openDelay:100,closeDelay:50},contentTemplate:"{content}",overflow:"flipfit",events:{}},f=k.extend({init:function(){k.fn.init.apply(this,arguments);var c,d,e,f,g,h=this,i=a(h.element),j=h.options,m=j.dieOnError,n=j.dataSource,o=j.cls,p=j.renderToINTERNAL,r=j.wrapOriginalINTERNAL,s=!w(r)||r;if(h._original=c=a(h.element),h._tagname=e=c.prop("tagName").toLowerCase(),h._isContext=j.isContextINTERNAL,g=h._eventNS=".shieldMenu"+h.getInstanceId(),s?(h.wrapper=c.wrap("<div/>").parent(),h._isWrapped=!0):h._isWrapped=!1,c.hide(),h.element=i=a('<ul class="sui-menu sui-menu-top sui-menu-'+j.orientation+(o?" "+o:"")+'"/>').on(J+g,q(h._focus,h)).on(K+g,q(h._blur,h)).on(M+g,q(h._keydown,h)),a(p).length>0?a(p).append(i):c.after(i),w(j.width)&&i.css("width",j.width),w(j.minWidth)&&i.css("minWidth",j.minWidth),w(j.height)&&i.css("height",j.height),d=c.attr(N),i.attr(N,w(d)?d:"0"),h._isRtl=b.support.isRtl(i),n)h.dataSource=l.create(n);else{if("ul"!==e)return h.destroy(),void u("shieldMenu: No dataSource or underlying UL element found.",m);f=function(b){var c=[];return a(b).children("li").each(function(){var b=a(this),d=b.children("ul").length>0,e={cls:b.attr("data-class"),content:d?b.children().not("ul").first().html():b.html(),href:b.attr("data-href")?b.attr("data-href"):b.children().not("ul").first().attr("href"),disabled:b.attr("data-disabled")?b.attr("data-disabled"):w(b.attr(O))&&null!==b.attr(O),separator:"separator"===b.attr("data-role"),iconUrl:b.attr("data-icon-url"),iconCls:b.attr("data-icon-cls")};d&&(e.items=f(b.children("ul")[0])),c.push(e)}),c},h.dataSource=l.create({data:c,schema:{parse:f}})}h.dataSource.on(L+g,q(h._dsChange,h)),i.attr(B,h._isContext?"menu":"menubar").attr("aria-orientation",j.orientation),j.readDataSource&&h.dataSource.read()},refresh:function(a){this.refreshWithElement(this._original,a)},_isFocused:function(){return a(this.element).hasClass("sui-menu-focus")},_focus:function(b){var c=this;c._blurTimeout&&(clearTimeout(c._blurTimeout),c._blurTimeout=null),c._isFocused()||(a(c.element).addClass("sui-menu-focus"),a(c.element).focus(),c.trigger(J))},_blur:function(b){var c=this;c._isFocused()&&(c._blurTimeout&&clearTimeout(c._blurTimeout),c._blurTimeout=setTimeout(function(){a(c.element).removeClass("sui-menu-focus"),c._collapseAll(),c._deselectAll(),c.trigger(K)},100))},_dsChange:function(){var a=this;a._renderItems(a.dataSource.view,a.element,0,null)},_getItemIcon:function(b){var c=a('<span class="sui-menu-item-icon"/>');return b.iconUrl?c.append('<img src="'+b.iconUrl+'"/>'):b.iconCls&&c.addClass(b.iconCls),c},_renderItems:function(c,d,e,f){var g,h,i,j,k,l,m,n,r,t,u,w,x=this,y=x.options,z=(c||[]).length,D=s(c||[],function(a){return a.iconUrl||a.iconCls}).length>0;for(g=0;g<z;g++)h=c[g],i=!!h.disabled,k=h.href,l=h.separator,t=!l&&h.items&&h.items.length>0,r=h.iconUrl||h.iconCls,j=l?"&nbsp;":v.call(x,y.contentTemplate,h),n=a('<a class="sui-menu-item-link" '+(k?'href="'+k+'"':"")+' tabindex="-1"/>').append('<span class="sui-menu-item-text'+(t?" sui-menu-item-text-hc":"")+'">'+j+"</span>"),m=a('<li class="sui-menu-item sui-unselectable'+(i?" sui-menu-item-disabled":"")+(l?" sui-menu-item-separator":"")+(h.cls?" "+h.cls:"")+'"/>').on("selectstart",function(){return!1}).appendTo(d).data(V,h).data(W,f).data(P,e).data(R,i).data(T,g).attr(B,l?"separator":"menuitem").attr(A,o()).append(n),l?m.attr("aria-orientation",e>0||y.orientation===H?G:H):i&&m.attr("aria-disabled",C),n.click(q(x._itemClicked,x,m)).on(J,q(x.focus,x)),!l&&D&&(e>0||r||y.orientation===H)&&n.prepend(x._getItemIcon(h)),t&&(n.append('<span class="sui-menu-item-children-caret"/>'),u=a('<div class="sui-menu-submenu"/>').hide().data(Y,m).appendTo(m),u.css("z-index",b.ui.Util.GetMaxZIndex(".sui-menu, .sui-menu-submenu",p.body)+1),w=a('<ul class="sui-menu sui-menu-vertical"/>').attr(B,"menu").appendTo(u),x._renderItems(h.items,w,e+1,m),m.data(X,u).attr("aria-haspopup","true").hover(q(x._itemMouseEnter,x,m,!0),q(x._itemMouseLeave,x,m,!0)))},_itemMouseEnter:function(a,b){var c=this;a.addClass(U),setTimeout(function(){a.hasClass(U)&&c._itemExpand(a,b)},c.options.delay)},_itemMouseLeave:function(a,b){var c=this;a.removeClass(U),c._itemCollapse(a,!0,b)},_itemExpand:function(a,b,c){var d,e=this,f=e.options,g=f.animation,h=a.data(P),i=a.data(X),j=0===h&&f.orientation===G,k=a.data(V),l=a.data(W);e._isExpandable(a)&&e._canHaveFocus(a)&&i&&(i.stop(!0,!0),l&&!e._isExpanded(l)&&e._itemExpand(l,!1,!0,!0),b&&(d=e.trigger("expand",{element:a,item:k})),j&&i.css("min-width",a.outerWidth()),i.show(),m.Set(i,a,{source:"left top",target:j?"left bottom":"right top",overflow:f.overflow}),!c&&g&&g.enabled?i.hide().slideDown(g.openDelay,function(){a.data(Q,!0).attr(E,C)}):a.data(Q,!0).attr(E,C))},_itemCollapse:function(b,c,d,e){var f,g=this,h=g.options.animation,i=b.data(X),j=b.data(V),k=b.data(W);i&&(i.stop(!0,!0),d&&(f=g.trigger("collapse",{element:b,item:j})),c=!w(c)||!!c,a(i).find("ul").first().children().each(function(){var b=a(this);g._isExpanded(b)&&g._itemCollapse(b,c,!1,!0)}),!e&&h&&h.enabled?i.slideUp(h.closeDelay,function(){b.data(Q,!1).attr(E,D),c&&k&&!k.hasClass(U)&&g._itemCollapse(k,!0,!1,!0)}):(i.hide(),b.data(Q,!1).attr(E,D),c&&c&&k&&!k.hasClass(U)&&g._itemCollapse(k,!0,!1,!0)))},_collapseAll:function(){var b=this;a(b.element).children("li").each(function(){var c=a(this);b._isExpanded(c)&&b._itemCollapse(c,!1,!1,!0)})},_isExpandable:function(a){return!!a.data(X)},_isExpanded:function(a){return a.data(Q)===!0},_hasExpanded:function(b){var c=this,d=b.data(X);return b.data(Q)===!0&&s(a(d).find("ul").first().children(),function(b){return c._isExpanded(a(b))||c._hasExpanded(a(b))}).length>0},_canHaveFocus:function(a){return!a.data(R)&&!a.data(V).separator},_keydown:function(a){var b,c=this,d=!0;switch(a.keyCode){case n.UP:c._move("up",a);break;case n.DOWN:c._move("down",a);break;case n.LEFT:c._move("left",a);break;case n.RIGHT:c._move("right",a);break;case n.SPACE:case n.ENTER:b=c._getSelected(),w(b)&&(c._isExpanded(b)||c._itemExpand(b,!0),c._itemClicked(b));break;default:d=!1}d&&a.preventDefault()},_getFirstSelectableItem:function(b){var c,d=this;return a(b).children("li").each(function(){var b=a(this);if(d._canHaveFocus(b))return c=b,!1}),c},_getNextSelectableItem:function(b){var c,d,e=this,f=b.parent(),g=b.index(),h=f.children("li"),i=h.length;if(g<i-1)for(d=g+1;d<i;d++)if(c=a(h[d]),e._canHaveFocus(c))return c;if(g>0)for(d=0;d<g;d++)if(c=a(h[d]),e._canHaveFocus(c))return c;return b},_getPrevSelectableItem:function(b){var c,d,e=this,f=b.parent(),g=b.index(),h=f.children("li"),i=h.length;if(g>0)for(d=g-1;d>=0;d--)if(c=a(h[d]),e._canHaveFocus(c))return c;if(g<i-1)for(d=i-1;d>g;d--)if(c=a(h[d]),e._canHaveFocus(c))return c;return b},_move:function(a,b){var c,e,f,g,h=this,i=h._getSelected();h._isRtl;if(w(i))if(c=i.parent().hasClass("sui-menu-vertical")?H:G,e=i.data(W),f=e?e.parent().hasClass("sui-menu-vertical")?H:G:d,c===G){if("up"===a)return void h._itemCollapse(i,!1,!0);if("down"===a){if(!h._isExpandable(i))return;h._itemExpand(i,!0),g=h._getFirstSelectableItem(i.find(".sui-menu-submenu > .sui-menu").first())}else if("left"===a){if(g=h._getPrevSelectableItem(i),g===i)return}else{if("right"!==a)return;if(g=h._getNextSelectableItem(i),g===i)return}}else if("up"===a){if(0===i.index()){if(e&&f===G)g=e,h._itemCollapse(g,!1,!0);else if(g=h._getPrevSelectableItem(i),g===i)return}else if(g=h._getPrevSelectableItem(i),g===i)return}else if("down"===a){if(g=h._getNextSelectableItem(i),g===i)return}else if("left"===a){if(!e||f!==H)return;g=e,h._itemCollapse(g,!1,!0)}else{if("right"!==a)return;if(!h._isExpandable(i))return;h._itemExpand(i,!0),g=h._getFirstSelectableItem(i.find(".sui-menu-submenu > .sui-menu").first())}else g=h._getFirstSelectableItem(h.element);w(g)&&(h._setSelected(g,!0),h.trigger("select",{element:g,item:g.data(V)}))},_deselectAll:function(){var b=this,c=b.element;a(c).find("."+S).each(function(){a(this).removeClass(S)}),c.removeAttr(F)},_setSelected:function(b,c){var d=this,e=d.element;d._canHaveFocus(b)&&(c?(d._deselectAll(),a(b).addClass(S),e.attr(F,b.attr(A))):(a(b).removeClass(S),e.removeAttr(F)))},_getSelected:function(){var b=this,c=a(b.element).find("."+S).first();return a(c).length>0?c:d},_isSelected:function(b){return a(b).hasClass(S)},_itemClicked:function(a,b){var c,d,e=this,f=a.data(V);b&&b.isPropagationStopped()||(e._focus(),e._canHaveFocus(a)&&(d={item:f},e._isContext&&(d.element=j),c=e.trigger(I,d),b&&(b.stopPropagation(),c.isDefaultPrevented()&&b.preventDefault())))},_getItemByIndex:function(){var b,c,e=this,f=[].slice.call(arguments),g=d;if(f.length>0)for(c=0;c<f.length;c++){if(b=f[c],!y(b))return d;if(g=0===c?a(e.element).children("li:eq("+b+")"):a(a(g).data(X)).children("ul").first().children("li:eq("+b+")"),a(g).length<=0)return d}return g},_getItemIndex:function(a){var b=[];do b.unshift(a.data(T)),a=a.data(W);while(a);return b},enabled:function(){var b,c=this,e=[].slice.call(arguments),f=x(e[0])?e.shift():d;if(b=c._getItemByIndex.apply(this,e),w(b)){if(!w(f))return!b.data(R);b.data(R,!f),a(b)[f?"removeClass":"addClass"]("sui-menu-item-disabled")}},expanded:function(){var a,b=this,c=[].slice.call(arguments),e=x(c[0])?c.shift():d;if(a=b._getItemByIndex.apply(this,c),w(a)){if(!w(e))return b._isExpanded(a);e?(b._collapseAll(),b._itemExpand(a,!1)):b._itemCollapse(a,!1,!1)}w(e)&&e===!1&&0===c.length&&b._collapseAll()},selected:function(){var a,b=this,c=[].slice.call(arguments),e=x(c[0])?c.shift():d;if(a=b._getItemByIndex.apply(this,c),w(a)){if(!w(e))return b._isSelected(a);b._setSelected(a,e)}w(e)&&e===!1&&0===c.length&&b._deselectAll()},selectedIndex:function(){var a=this,b=a._getSelected();if(w(b))return a._getItemIndex(b)},selectedData:function(){var b=this,c=b._getSelected();if(w(c))return a(c).data(V)},selectedItem:function(){return this._getSelected()},destroy:function(){var b=this,c=b._eventNS;b.dataSource&&b.dataSource.off(L+c),b._blurTimeout&&(clearTimeout(b._blurTimeout),b._blurTimeout=null),a(b.element).off(c).remove(),b._isWrapped&&b._original.unwrap(),b._original.show(),b._original=null,k.fn.destroy.call(b)}}),f.defaults=e,b.ui.plugin("Menu",f),g=t({},e,{orientation:H,target:d,filter:d,focusOnOpen:!0,minWidth:d}),h=k.extend({init:function(){k.fn.init.apply(this,arguments);var c,d,e=this,g=a(e.element),h=e.options,i=h.events,j={};c=e._eventNS=".shieldContextMenu"+e.getInstanceId(),e.menuElement=d=a('<div class="sui-context-menu"/>').hide().appendTo(p.body),h.minWidth&&e.menuElement.css("min-width",h.minWidth),r(["focus","blur","expand","collapse","click","select"],function(a,b){var c=i[b];z(c)&&(j[b]=q(c,e))}),e._menu=new f(g,t({},h,{renderToINTERNAL:d,wrapOriginalINTERNAL:!1,isContextINTERNAL:!0,events:j})),e._mouseTracker=new b.MouseTracker,a(h.target).on("contextmenu"+c,h.filter,function(b){return b.preventDefault(),e._open(e._mouseTracker.getPosition(b),a(b.currentTarget),!0,!1),!1}),a(p).on("mousedown"+c,function(b){a(b.target).closest(".sui-context-menu").length<=0&&e._closeOpen(!0)})},_open:function(a,c,d,e){var f,g=this,h=g.menuElement,k=g.options,l=k.animation,n=k.focusOnOpen;g._closeOpen(!1),d&&(f=g.trigger("open",{element:c}),f.isDefaultPrevented())||(h.stop(!0,!0),h.show(),m.Set(h,new b.Event({pageX:a.x,pageY:a.y}),{source:"left top",target:"left top",overflow:k.overflow}),l&&l.enabled?h.hide().slideDown(l.openDelay,function(){i=g,j=c,g._visible=!0,n&&g.focus()}):(i=g,j=c,g._visible=!0,n&&g.focus()))},_close:function(a){var b,c=this,d=c.menuElement,e=c.options.animation;a&&(b=c.trigger("close"),b.isDefaultPrevented())||(i=j=null,d.stop(!0,!0),e&&e.enabled?d.slideUp(e.closeDelay,function(){c._visible=!1}):(d.hide(),c._visible=!1))},_closeOpen:function(a){i&&i.closeINTERNAL(!0)},closeINTERNAL:function(a){this._close(a)},focus:function(){a(this.menuElement).find(".sui-menu").first().focus()},visible:function(){var a,b,c=this,d=[].slice.call(arguments);return d.length>0?(a=!!d[0],b=d[1]?d[1]:c._mouseTracker.getPosition(),a?c._open(b,d[2],!1,!1):c._close(!1),c._visible=a,void 0):c._visible},enabled:function(){return this._menu.enabled.apply(this._menu,arguments)},expanded:function(){return this._menu.expanded.apply(this._menu,arguments)},selected:function(){return this._menu.selected.apply(this._menu,arguments)},selectedIndex:function(){return this._menu.selectedIndex.apply(this._menu,arguments)},selectedData:function(){return this._menu.selectedData.apply(this._menu,arguments)},selectedItem:function(){return this._menu.selectedItem.apply(this._menu,arguments)},destroy:function(){var b=this,c=b._eventNS;a(p).off(c),a(b.options.target).off(c),b._mouseTracker&&(b._mouseTracker.destroy(),b._mouseTracker=null),b._close(),b._menu&&(b._menu.destroy(),b._menu=null),a(b.menuElement).remove(),k.fn.destroy.call(b)}}),h.defaults=g,b.ui.plugin("ContextMenu",h)}(jQuery,shield,this);