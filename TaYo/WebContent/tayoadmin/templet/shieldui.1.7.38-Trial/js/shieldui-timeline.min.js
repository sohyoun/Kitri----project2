/* Shield UI 1.7.38 Trial Version | Copyright 2013-2019 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(a,b,c,d){var e,f,g=b.ui.Widget,h=(b.Class,b.DataSource),i=(b.ui.Position,b.support),j=a.proxy,k=b.error,l=b.format,m=b.is.defined,n=b.is.func,o=b.is["boolean"],p=b.is.string,q=b.is["null"],r=b.is.integer,s=b.to["int"],t="change",u="centered",v="right",w="width",x="height",y="click",z="sui-timeline-ds-item";e={cls:d,dataSource:d,readDataSource:!0,layout:u,animation:{enabled:!0,expandDuration:200,collapseDuration:150},positionTemplate:d,iconTemplate:"{icon}",titleTemplate:"{title}",textTemplate:"{text}",collapsedTemplate:"{collapsed}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",collapsible:!0,width:d,height:d,events:{}},f=g.extend({init:function(){g.fn.init.apply(this,arguments);var b,d=this,e=a(d.element),f=d.options,i=f.dieOnError,l=f.dataSource,m=f.cls;return b=d._eventNS=".shieldTimeline"+d.getInstanceId(),e.empty(),e.addClass("sui-timeline sui-timeline-"+f.layout+(f.collapsible?" sui-timeline-collapsible":"")+(m?" "+m:"")),d._initAxis(e),l?(d.dataSource=h.create(l),a(c).on("resize"+b,j(d._winResize,d)),d.dataSource.on(t+b,j(d._dsChange,d)),void(f.readDataSource&&d.dataSource.read())):(d.destroy(),void k("shieldTimeline: dataSource option is required.",i))},_initAxis:function(b){var c,d=this,e=d.options;m(e.width)&&b.css(w,e.width),m(e.height)&&b.css(x,e.height),c=a('<div class="sui-timeline-inner"/>').appendTo(b),d._axis=a('<div class="sui-timeline-axis sui-timeline-axis-'+e.layout+'"/>').appendTo(c)},_dsChange:function(){this._render()},_winResize:function(){this._recalcEventWidths()},_recalcEventWidths:function(){var b=this,c=s(a(b.element).innerWidth());c!==b._width&&(b._setEventWidths(c),b._width=c)},_setEventWidths:function(b){var c=this,d=c.options.layout,e=i.scrollbar(),f=a(c._axis).outerWidth(),g=s(d===u?(b-e)/2-f:b-e-f);a(c._axis).children(".sui-timeline-event").each(function(){a(this).outerWidth(g),a(this).hasClass("sui-timeline-event-left")&&c._positionEventLeft(a(this))})},_render:function(){var b,c,e,f,g,h,i,k,n,o,r,s,t=this,u=t.options,v=u.collapsible,w=t.dataSource.view||[],x=w.length;for(s=0;s<x;s++)b=w[s],c=a('<div class="sui-timeline-event"/>').data(z,b).appendTo(t._axis),g=a('<div class="sui-timeline-event-title">'+l(u.titleTemplate,b)+"</div>").appendTo(c),h=l(u.textTemplate,b),i=m(h)&&!q(h)&&"undefined"!==h&&""!==h?a('<div class="sui-timeline-event-text">'+h+"</div>").appendTo(c):d,t._positionEventElement(c,b,s),o=l(u.iconUrlTemplate,b),p(o)&&"undefined"!==o||(o=d),r=l(u.iconClsTemplate,b),p(r)&&"undefined"!==r||(r=d),(o||r)&&(e=a('<span class="sui-timeline-event-icon'+(v&&m(i)?" sui-timeline-event-icon-collapsible":"")+'"/>').insertBefore(c),f=a('<span class="sui-timeline-event-icon-inner"/>').appendTo(e),o?f.append('<img src="'+o+'"/>'):f.addClass(r)),v&&m(i)&&(c.addClass("sui-timeline-event-collapsible"),g.on(y,j(t._eventTitleClicked,t,c)),(o||r)&&e.on(y,j(t._eventTitleClicked,t,c)),k=l(u.collapsedTemplate,b),n=p(k)?"true"===k||"1"===k:k===!0,n&&t._collapse(c,!1,!0));t._recalcEventWidths()},_positionEventElement:function(a,b,c){var d,e,f=this,g=f.options,h=g.positionTemplate;switch(g.layout){case u:n(h)||p(h)?(d=l(h,b,c),e=p(d)?"undefined"===d?c%2:"true"===d||"1"===d:!!d):e=c%2,e&&f._positionEventLeft(a);break;case v:f._positionEventLeft(a)}},_positionEventLeft:function(b){b.addClass("sui-timeline-event-left").css("left",-1*a(b).width())},_isExpanded:function(b){return!a(b).hasClass("sui-timeline-event-collapsed")},_getEventItem:function(b){return a(b).data(z)},_expand:function(a,b,c,d){var e,f=this,g=f.options.animation;return f._isExpanded(a)?void(n(d)&&d.call(f)):void(b&&(e=f.trigger("expand",{element:a,item:f._getEventItem(a)}),e.isDefaultPrevented())||a.find(".sui-timeline-event-text").first().slideDown(g.enabled&&!c?g.expandDuration:0,function(){a.removeClass("sui-timeline-event-collapsed"),n(d)&&d.call(f)}))},_collapse:function(a,b,c,d){var e,f=this,g=f.options.animation;return f._isExpanded(a)?void(b&&(e=f.trigger("collapse",{element:a,item:f._getEventItem(a)}),e.isDefaultPrevented())||a.find(".sui-timeline-event-text").first().slideUp(g.enabled&&!c?g.collapseDuration:0,function(){a.addClass("sui-timeline-event-collapsed"),n(d)&&d.call(f)})):void(n(d)&&d.call(f))},_eventTitleClicked:function(a,b){var c=this;c._isExpanded(a)?c._collapse(a,!0,!1):c._expand(a,!0,!1)},_getEvent:function(b){return a(r(b)?a(this._axis).children(".sui-timeline-event")[b]:b)},expanded:function(){var a=this,b=[].slice.call(arguments),c=o(b[0])?b.shift():d,e=a._getEvent(b[0]);return m(c)?void(c?a._expand(e,!1,!1,b[1]):a._collapse(e,!1,!1,b[1])):a._isExpanded(e)},expandAll:function(){var b=this;a(b._axis).children(".sui-timeline-event").each(function(){b._expand(a(this),!1,!1)})},collapseAll:function(){var b=this;a(b._axis).children(".sui-timeline-event").each(function(){b._collapse(a(this),!1,!1)})},destroy:function(){var b=this,d=b.element,e=b.options,f=e.cls,h=b._eventNS;a(c).off(h),b.dataSource&&b.dataSource.off(h),d.removeClass("sui-timeline"+(f?" "+f:"")).empty(),b._width=null,g.fn.destroy.call(b)}}),f.defaults=e,b.ui.plugin("Timeline",f)}(jQuery,shield,this);