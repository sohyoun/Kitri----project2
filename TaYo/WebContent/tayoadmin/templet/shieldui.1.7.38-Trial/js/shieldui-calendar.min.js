/* Shield UI 1.7.38 Trial Version | Copyright 2013-2019 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o=b.ui.Widget,p=b.Class,q=b.format,r=b.parseDate,s=document,t=b.is.func,u=b.is,v=a.proxy,w=navigator.userAgent,x=c.opera,y=/msie/i.test(w)&&!x,z=y&&8===s.documentMode,A=a.extend,B=u.undefined,C=u.string,D="month",E="year",F="decade",G="century",H="click",I="mousedown",J="keypress",K="focus",L="selectstart",M="select",N="change",O="viewChange",P="depthChange",Q="open",R="close",S="blur",T="display",U="none";e={enabled:!0,readOnly:!1,hover:!0,footer:{enabled:!0,footerTemlpate:"Today"},min:new Date(1900,0,1),max:new Date(2099,11,31),value:d,focused:new Date,labels:{previous:"Previous",next:"Next"},view:{depth:D,start:D},dayTemplate:"{day}",otherMonthDayTemplate:"{day}",outOfRangeDayTemplate:"&nbsp;",dateTooltipTemplate:"{date:MM/dd/yyyy}",events:{}};var V=function(a){var b=!1,c="Webkit Moz ms O".split(" "),d=s.createElement("div"),e=null;if(a=a.toLowerCase(),d.style[a]&&(b=!0),b===!1){e=a.charAt(0).toUpperCase()+a.substr(1);for(var f=0;f<c.length;f++)if(void 0!==d.style[c[f]+e]){b=!0;break}}return b},W=p.extend({init:function(c){var d=this,e=c.listbox,f=c.min,g=c.max,h=c.interval,i=c.parent,j=c.textTemplate;if(b.ui.ListBox){if(u.object(e)&&e instanceof b.ui.ListBox)i.listBox=e;else{i._listBoxWrapper=a("<div style='display: none;' />").appendTo(s.body);var k=d._populateDataSource(f,g,h);i.listBox=new b.ui.ListBox(i._listBoxWrapper,A({},e,{dataSource:{data:k},multiple:!1,textTemplate:j,width:i._wrapper.innerWidth(),maxHeight:200})),i._wrapper.parent().hasClass("sui-rtl")?i.listBox.element.parent().addClass("sui-rtl"):i.listBox.element.parent().css(T,U)}i._shouldShowPopup=!0}},_populateDataSource:function(a,b,c){var d,e,f=[];for(b<=a?b=new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,b.getHours(),b.getMinutes(),b.getSeconds()):(b=new Date(a.getFullYear(),a.getMonth(),a.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()),b.getTime()==a.getTime()&&(b=new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,b.getHours(),b.getMinutes(),b.getSeconds()))),d=a.getTime(),e=b.getTime();d<e;)f.push(new Date(d)),d+=60*c*1e3;return f},destroy:function(){var a=this;a.listBox;a.listBox&&(a.listBox.destroy(),a.listBox=null)}});f=o.extend({init:function(){o.fn.init.apply(this,arguments);var b=this,c=a(b.element),d=b.options,e=d.cls,f=d.value;c.addClass("sui-calendar"+(e?" "+e:"")),b._focusedDate=d.focused,b._view=d.view.start,b._enabled=d.enabled,f&&(C(f)&&(f=new Date(f)),b._focusedDate=b._selectedDate=new Date(f.getFullYear(),f.getMonth(),f.getDate())),b._initializeHeader(),b._render(),d.footer.enabled&&b._initializeFooter(),!d.readOnly&&d.enabled?(c.find(".sui-prev").on(H,b._movePrev=v(b._movePrevHandler,b)),c.find(".sui-next").on(H,b._moveNext=v(b._moveNextHandler,b)),c.find(".sui-text").on(H,b._changeViewDepth=v(b._changeViewDepthHandler,b)),c.find(".sui-footer").on(H,b._selectToday=v(b._selectTodayHandler,b))):d.readOnly?c.addClass("sui-read-only"):c.addClass("sui-calendar-disabled"),y&&c.on(L,b._selectStart=function(){return!1})},_calendarSelectionHandler:function(b){var c,d,e=this,f=a(b.target).closest("td"),g=e._focusedDate;e.options.view.depth;if(f.length&&!f.hasClass("sui-out-of-range")&&!f.hasClass("sui-no-hover")&&e._enabled)switch(e._calendarTable.find(".sui-focused").removeClass("sui-focused"),e._view){case D:c=new Date(f.attr("data-value"));var h=e._shouldChangeView(c),i=!1;c.getTime()>e._focusedDate&&(i=!0),e._focusedDate=c,e._selectedDate=c,h&&(e._animationBegins(i),e._renderView(),e._animationEnds(i),e.trigger(O)),e._selectDateCell(c),e.trigger(N);break;case E:var j=parseInt(f.attr("data-value"),10);c=new Date(g.getFullYear(),j,g.getDate()),c.getDate()!=g.getDate()&&(c=new Date(g.getFullYear(),j+1,0)),e._focusedDate=c,e.options.view.depth==E?(e._selectedDate=c,e._selectDateCell(c),e.trigger(N)):(e._view=D,e._viewDepthAnimationBegins(),e._renderView(),e._viewDepthAnimationEnds(),e.trigger(P));break;case F:d=parseInt(f.attr("data-value"),10),c=new Date(d,g.getMonth(),g.getDate()),c.getDate()!=g.getDate()&&(c=new Date(d,g.getMonth()+1,0)),e._focusedDate=c,e.options.view.depth==F?(e._selectedDate=c,e._selectDateCell(c),e.trigger(N)):(e._view=E,e._viewDepthAnimationBegins(),e._renderView(),e._viewDepthAnimationEnds(),e.trigger(P));break;case G:d=parseInt(f.attr("data-value"),10),c=new Date(d,g.getMonth(),g.getDate()),c.getDate()!=g.getDate()&&(c=new Date(d,g.getMonth()+1,0)),e._focusedDate=c,e.options.view.depth==G?(e._selectedDate=c,e._selectDateCell(c),e.trigger(N)):(e._view=F,e._viewDepthAnimationBegins(),e._renderView(),e._viewDepthAnimationEnds(),e.trigger(P))}},_shouldChangeView:function(a){var b,c,d=this,e=d._focusedDate,f=!1,g=e.getFullYear(),h=a.getFullYear();switch(d._view){case D:h==g&&a.getMonth()==e.getMonth()||(f=!0);break;case E:h!=g&&(f=!0);break;case F:b=g-g%10,c=b+10,(h<b||h>c)&&(f=!0);break;case G:b=g-g%100,c=b+100,(h<b||h>c)&&(f=!0)}return f},_selectTodayHandler:function(){var a=this,b=new Date,c=a._shouldChangeView(b),d=!1;if(a._enabled){var e=new Date(b.getFullYear(),b.getMonth(),b.getDate());e.getTime()>a._focusedDate&&(d=!0),a._selectedDate=a._focusedDate=e,a._view!=a.options.view.depth?(a._view=a.options.view.depth,a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds(),a.trigger(P)):c?(a._animationBegins(d),a._renderView(),a._animationEnds(d),a.trigger(O)):a._selectDateCell(a._focusedDate),a.trigger(N)}},_selectDateCell:function(b){var c=this,d=null;switch(c._view){case D:d=c._calendarTable.find(".sui-date:not('.sui-other-month')").filter(function(){var c=a(this).attr("data-value"),d=new Date(c);return d.getDate()==b.getDate()&&d.getMonth()==b.getMonth()&&d.getFullYear()==b.getFullYear()});break;case E:d=c._calendarTable.find(".sui-month").filter(function(){return a(this).attr("data-value")==b.getMonth()});break;case F:d=c._calendarTable.find(".sui-year").filter(function(){return a(this).attr("data-value")==b.getFullYear()});break;case G:d=c._calendarTable.find(".sui-years").filter(function(){var c=parseInt(a(this).attr("data-value"),10);return b.getFullYear()>=c&&b.getFullYear()<c+10})}c._calendarTable.find(".sui-selected").removeClass("sui-selected"),d.addClass("sui-selected")},_viewDepthAnimationBegins:function(){var a=this;if(!V("transition"))return void a._calendarTable.empty();a._enabled=!1;var b=a._calendarTable,c=!1;b.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(d){c=a._removeOldTable(b,a)}),setTimeout(function(){c||a._removeOldTable(b,a)},1e3),b.addClass("sui-fade-in"),a._renderTable()},_removeOldTable:function(a,b){return a.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),a.remove(),b._enabled=!0,!0},_viewDepthAnimationEnds:function(){V("transition")&&this._calendarTable.addClass("sui-scaling")},_changeViewDepthHandler:function(a){var b=this,c=[D,E,F,G],d=jQuery.inArray(b._view,c);d<3&&b._enabled&&(b._view=c[d+1],b._viewDepthAnimationBegins(),b._renderView(),b._viewDepthAnimationEnds())},_movePrevMonth:function(){var a=this,b=a._focusedDate,c=(a._view,new Date(b.getFullYear(),b.getMonth()-1,b.getDate()));c.getDate()!=b.getDate()&&(c=new Date(b.getFullYear(),b.getMonth(),0)),a._focusedDate=c},_moveNextMonth:function(){var a=this,b=a._focusedDate,c=(a._view,new Date(b.getFullYear(),b.getMonth()+1,b.getDate()));c.getDate()!=b.getDate()&&(c=new Date(b.getFullYear(),b.getMonth()+2,0)),a._focusedDate=c},_movePrevYears:function(a){var b=this,c=b._focusedDate,d=(b._view,new Date(c.getFullYear()-a,c.getMonth(),c.getDate()));d.getMonth()!=c.getMonth()&&(d=new Date(c.getFullYear()-a,c.getMonth()+1,0)),b._focusedDate=d,b._calendarTable.empty()},_moveNextYears:function(a){var b=this,c=b._focusedDate,d=(b._view,new Date(c.getFullYear()+a,c.getMonth(),c.getDate()));d.getMonth()!=c.getMonth()&&(d=new Date(c.getFullYear()+a,c.getMonth()+1,0)),b._focusedDate=d,b._calendarTable.empty()},_animationBegins:function(b){var c=this,d="-";if(!V("transition"))return void c._calendarTable.empty();c._calendarTable.removeClass("sui-scaling"),c._tableWrapper=a("<div>").insertAfter(c.element.find(".sui-header")),c._tableWrapper.width(2*c.element.width()),c.element.find(".sui-calendar-view").appendTo(c._tableWrapper),c.element.parent().hasClass("sui-rtl")&&(b=!b,d="+"),c._renderTable(b),b||(c._tableWrapper.css("position","relative"),c._tableWrapper.css("left",d+c.element.width()+"px")),c._tableWrapper.addClass("sui-calendar-animation"),c._enabled=!1;var e=!1;c._tableWrapper.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(a){e=c._removeTempTables(c)}),setTimeout(function(){e||c._removeTempTables(c)},1e3)},_removeTempTables:function(a){return a._tempTable.remove(),a._calendarTable.insertAfter(a.element.find(".sui-header")),a._tableWrapper.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),a._tableWrapper.remove(),a._tableWrapper=null,a._enabled=!0,!0},_animationEnds:function(a){var b=this;if(V("transition")){var c=b.element.width();a&&(c*=-1),b._tableWrapper.css("transform","translateX("+c+"px)")}},_moveView:function(a){var b=this;switch(b._animationBegins(a),b._view){case D:a?b._moveNextMonth():b._movePrevMonth(),b._createMonthView();break;case E:a?b._moveNextYears(1):b._movePrevYears(1),b._createYearsView();break;case F:a?b._moveNextYears(10):b._movePrevYears(10),b._createDecadeView();break;case G:a?b._moveNextYears(100):b._movePrevYears(100),b._createcenturyView()}b._animationEnds(a),b.trigger(O)},_disablePrev:function(a){var b=this,c=b.element.find(".sui-prev");a?(b.preventPrevNavigation=!0,c.addClass("sui-calendar-disabled")):(b.preventPrevNavigation=!1,c.removeClass("sui-calendar-disabled"))},_disableNext:function(a){var b=this,c=b.element.find(".sui-next");a?(b.preventNextNavigation=!0,c.addClass("sui-calendar-disabled")):(b.preventNextNavigation=!1,c.removeClass("sui-calendar-disabled"))},_movePrevHandler:function(){var a=this;!a.preventPrevNavigation&&a._enabled&&a._moveView(!1)},_moveNextHandler:function(){var a=this;!a.preventNextNavigation&&a._enabled&&a._moveView(!0)},_initializeHeader:function(){var b=this,c=b.options.labels;this._header=a('<div class="sui-header"><span unselectable="on"  title="'+c.previous+'" class="sui-prev"><span unselectable="on" class="sui-left-arrow"></span></span><span class="sui-text"></span><span unselectable="on" title="'+c.next+'" class="sui-next"><span unselectable="on" class="sui-right-arrow"></span></span></div>').appendTo(this.element)},_renderTable:function(b){var c=this,d=c.options,e="sui-calendar-view";d.hover&&d.enabled&&(e+=" sui-hoverable"),c._calendarTable?(c.element.find(".sui-calendar-view").off(H,c._calendarSelection),c._calendarSelection=null,b?(c._tempTable=c.element.find(".sui-calendar-view"),c._calendarTable=a("<table />").width(c.element.width()).addClass(e).insertAfter(c._tempTable)):(c._tempTable=c.element.find(".sui-calendar-view"),c._calendarTable=a("<table />").width(c.element.width()).addClass(e).insertBefore(c._tempTable))):c._calendarTable=a("<table />").width(c.element.width()).addClass(e).insertAfter(c.element.find(".sui-header")),!d.readOnly&&d.enabled&&c.element.find(".sui-calendar-view").on(H,c._calendarSelection=v(c._calendarSelectionHandler,c))},_render:function(){this._renderTable(),this._renderView()},_renderView:function(){var a=this;switch(a._view){case D:a._createMonthView();break;case E:a._createYearsView();break;case F:a._createDecadeView();break;case G:a._createcenturyView();break;default:a._createMonthView()}},_initializeFooter:function(){var b=this,c=b.options,d=c.footer.footerTemlpate,e=t(d)?d:function(a){return q(d,a)};a('<div class="sui-footer"><span class="sui-footer-text">'+e.call(b,new Date)+"</span></div>").appendTo(this.element)},_createMonthView:function(){var c=this,d=c.options,e=c._focusedDate,f=c._calendarTable,g=b.getCalendarInfo(),h=g.days,i=g.firstDay,j=g.months,k=h.namesShort,l=[],m=h.namesAbbr,n=h.names,o=d.min,p=d.max,r=d.dayTemplate,s=d.otherMonthDayTemplate,u=d.dateTooltipTemplate,v=d.outOfRangeDayTemplate,w=t(r)?r:function(a){return q(r,a)},x=t(s)?s:function(a){return q(s,a)},y=t(u)?u:function(a){return q(u,a)},z=t(v)?v:function(a){return q(v,a)},A=a("<thead />").appendTo(f),B=a("<tr />").addClass("sui-week-header").appendTo(A),C="",D=0;for(D=i;D<k.length;D++)l.push(k[D]);for(var E=0;E<i;E++)l.push(k[E]);for(var F=0;F<l.length;F++){l[F];C+="<th scope='col' abbr='"+m[F]+"' title='"+n[F]+"'>"+l[F]+"</th>"}B.html(C);var G=a('<tbody class="sui-days"/>').appendTo(f),H=e.getFullYear(),I=e.getMonth(),J=new Date(H,I,1).getDay()-i,K=new Date(H,I+1,0).getDay()-i,L=new Date(H,I+1,0).getDate(),M=7;c._header.find(".sui-text").text(j.names[I]+" "+H),J<=0&&(J=7-(0===J?0:i),M=0);var N=-1*J+1,O=6-K+L+M,P=0,Q=null,R="";for(O-N>42&&(O-=7),O-N<35&&(O+=7),D=N;D<=O;D++){var S=new Date(H,I,D,0,0,0,0),T="sui-date",U=S.getTime()<o.getTime()||S.getTime()>p.getTime()?" sui-out-of-range":"",V=D<1||D>L?" sui-other-month":"",W=6==S.getDay()||0===S.getDay()?" sui-weekend":"",X=U||e.getDate()!=D||V?"":" sui-focused",Y=c._selectedDate&&S.getTime()==c._selectedDate.getTime()&&!V?" sui-selected":"",Z=null;U?(Z=z.call(c,{date:S,day:S.getDate()}),V="",W="",X="",Y="",T=""):V?(Z=x.call(c,{date:S,day:S.getDate()}),""===Z&&(V+=" sui-no-hover")):Z=w.call(c,{date:S,day:S.getDate()}),R+="<td title='"+y.call(c,{date:S,day:S.getDate()})+"' data-value='"+S.getFullYear()+"/"+(S.getMonth()+1)+"/"+S.getDate()+"' class='"+T+V+W+X+Y+U+"'>"+Z+"</td>",P++,7==P&&(Q=a('<tr role="row" />').appendTo(G),Q.html(R),P=0,R="")}var $=new Date(H,I,1,0,0,0,0),_=new Date(H,I+1,0);$.getTime()<=o.getTime()?c._disablePrev(!0):c.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&c._disablePrev(!1),_.getTime()>=p.getTime()?c._disableNext(!0):c.element.find(".sui-next").hasClass("sui-calendar-disabled")&&c._disableNext(!1)},_createYearsView:function(){var c=this,d=c.options,e=c._calendarTable,f=c._focusedDate,g=b.getCalendarInfo(),h=g.months,i=h.names,j=h.namesAbbr,k=a('<tbody class="sui-months"/>').appendTo(e),l=null,m="",n=d.min,o=d.max,p="",q=0;c._header.find(".sui-text").text(f.getFullYear());for(var r=0;r<j.length;r++){var s=new Date(f.getFullYear(),r,f.getDate(),0,0,0,0),t=f.getMonth()==r?" sui-focused":"";d.view.depth==E&&(p=c._selectedDate&&s.getTime()==c._selectedDate.getTime()?" sui-selected":"");var u="",v=i[r],w=j[r],x="sui-month";(s.getFullYear()<=n.getFullYear()&&s.getMonth()<n.getMonth()||s.getFullYear()>=o.getFullYear()&&s.getMonth()>o.getMonth())&&(u=" sui-out-of-range"),u&&(t="",p="",v=w="&nbsp;",x=""),m+="<td data-value='"+r+"' class='"+x+t+p+u+"' title='"+v+"'>"+w+"</td>",q++,4==q&&(l=a("<tr />").appendTo(k),l.html(m),q=0,m="")}f.getFullYear()<=n.getFullYear()?c._disablePrev(!0):c.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&c._disablePrev(!1),f.getFullYear()>=o.getFullYear()?c._disableNext(!0):c.element.find(".sui-next").hasClass("sui-calendar-disabled")&&c._disableNext(!1)},_createDecadeView:function(){var b=this,c=b.options,d=b._calendarTable,e=b._focusedDate,f=e.getFullYear(),g=f%10,h=a('<tbody class="sui-decade"/>').appendTo(d),i=null,j="",k=0,l=c.min,m=c.max,n=f-g-1,o="",p=f+(10-g);b._header.find(".sui-text").text(n+1+"-"+(p-1));for(var q=n;q<=p;q++){var r=new Date(q,e.getMonth(),e.getDate(),0,0,0,0),s=q==n||q==p?" sui-other-year":"",t=f==q?" sui-focused":"",u="",v=q,w="sui-year";(r.getFullYear()<l.getFullYear()||r.getFullYear()>m.getFullYear())&&(u=" sui-out-of-range"),c.view.depth==F&&(o=b._selectedDate&&r.getTime()==b._selectedDate.getTime()?" sui-selected":""),u&&(s="",t="",o="",w="",v="&nbsp;"),j+="<td data-value='"+v+"' class='"+w+s+t+o+u+"' title='"+v+"'>"+v+"</td>",k++,4==k&&(i=a("<tr />").appendTo(h),i.html(j),k=0,j="")}n<l.getFullYear()?b._disablePrev(!0):b.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&b._disablePrev(!1),p>m.getFullYear()?b._disableNext(!0):b.element.find(".sui-next").hasClass("sui-calendar-disabled")&&b._disableNext(!1)},_createcenturyView:function(){var b,c=this,d=c.options,e=c._calendarTable,f=c._focusedDate,g=f.getFullYear(),h=g%100,i=a('<tbody class="sui-decade"/>').appendTo(e),j=null,k="",l="",m=d.min,n=d.max,o=0,p=g-h-10,q=p+99+10+2;c._header.find(".sui-text").text(p+10+"-"+(q-2));for(var r=p;r<q;r+=10){var s=r==p||r==q-1?" sui-other-years":"",t=new Date(r,f.getMonth(),f.getDate(),0,0,0,0),u=new Date(r+10,f.getMonth(),f.getDate(),0,0,0,0),v="",w=g>=r&&g<r+10?" sui-focused":"",x="sui-years",y=r+" - "+(r+9),z=r;(t.getFullYear()<m.getFullYear()&&u.getFullYear()<=m.getFullYear()||t.getFullYear()>n.getFullYear())&&(v=" sui-out-of-range"),d.view.depth==G&&(l=c._selectedDate&&c._selectedDate.getFullYear()>=t.getFullYear()&&c._selectedDate.getFullYear()<t.getFullYear()+10?" sui-selected":""),v&&(s="",w="",l="",x="",b=z=y="&nbsp;"),k+="<td data-value='"+z+"' class='"+x+s+w+l+v+"' title='"+y+"'>"+y+"</td>",o++,4==o&&(j=a("<tr />").appendTo(i),j.html(k),o=0,k="")}p<m.getFullYear()?c._disablePrev(!0):c.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&c._disablePrev(!1),q>n.getFullYear()?c._disableNext(!0):c.element.find(".sui-next").hasClass("sui-calendar-disabled")&&c._disableNext(!1)},value:function(){var a=this,b=a.options,c=b.min,d=b.max,e=[].slice.call(arguments);if(!(e.length>0))return a._selectedDate;var f=e[0];if(null==f||""===f||B(f))a._selectedDate=null,a._focusedDate=b.focused;else{if(f.getTime()<c.getTime()||f.getTime()>d.getTime())return;a._focusedDate=a._selectedDate=new Date(f.getFullYear(),f.getMonth(),f.getDate())}a._calendarTable.empty(),a._renderView()},enabled:function(){var a=this,b=a.options,c=[].slice.call(arguments);if(!(c.length>0))return a._enabled;var d=c[0];d?(b.hover&&a._calendarTable.addClass("sui-hoverable"),a.element.removeClass("sui-calendar-disabled")):(a._calendarTable.removeClass("sui-hoverable"),a.element.addClass("sui-calendar-disabled")),a._enabled=d},previous:function(){var a=this;a.preventPrevNavigation||a._moveView(!1)},next:function(){var a=this;a.preventNextNavigation||a._moveView(!0)},view:function(){var a=this,b=[].slice.call(arguments);if(!(b.length>0))return a._view;var c=b[0];c!=a._view&&(a._view=c,a._calendarTable.empty(),a._renderView())},focused:function(){var a=this,b=[].slice.call(arguments);if(!(b.length>0))return a._focusedDate;a._focusedDate=b[0];b.length>1&&a._view!=b[1]&&(a._view=b[1]),a._calendarTable.empty(),a._renderView()},visible:function(){var a=this,b=(a.options,[].slice.call(arguments));if(!(b.length>0))return!a.element.hasClass("sui-hidden")&&"none"!=a.element.css("display");var c=b[0];c?a.element.removeClass("sui-hidden"):a.element.addClass("sui-hidden")},destroy:function(){var b=this,c=b.options.cls,d=a(b.element);d.removeClass("sui-calendar sui-read-only sui-calendar-disabled"+(c?" "+c:"")),b._focusedDate=null,b._header=null,b._calendarTable=null,b._view=null,b._enabled=null,b._selectedDate=null,b._tempTable=null,b._tableWrapper=null,d.find(".sui-prev").off(H,b._movePrev),b._movePrev=null,d.find(".sui-next").off(H,b._moveNext),b._moveNext=null,d.find(".sui-text").off(H,b._changeViewDepth),b._changeViewDepth=null,d.find(".sui-footer").off(H,b._selectToday),b._selectToday=null,d.find(".sui-calendar-view").off(H,b._calendarSelection),b._calendarSelection=null,d.off(L,b._selectStart),b._selectStart=null,d.empty(),o.fn.destroy.call(b)}}),f.defaults=e,b.ui.plugin("Calendar",f),g={calendar:null,format:"{0:MM/dd/yyyy}",textTemplate:"{0:MM/dd/yyyy}",value:null,parseFormats:["MM/dd/yyyy"],openOnFocus:!1,showButton:!0,editable:!0,enabled:!0,messages:{calendarIconTooltip:"",buttonText:"select"},min:new Date(1900,0,1),max:new Date(2099,11,31),events:{}},h=o.extend({init:function(b,c){o.fn.init.apply(this,arguments);var d=this,e=d.options,f=e.value,g=e.showButton?"":" sui-no-button";z&&(g+=" sui-ie8");var h=a(e.isMonthYearPicker?"<span class='sui-monthyearpicker"+g+"' />":e.isTimePicker?"<span class='sui-timepicker"+g+"' />":e.isDateTimePicker?"<span class='sui-datetimepicker"+g+"' />":"<span class='sui-datepicker"+g+"' />");if(d._selectedDate=null,a(b).after(h),d._wrapper=h,d._visibleInput=a("<input class='sui-picker-input' type='text' />").appendTo(h),e.showButton){var i=e.messages.calendarIconTooltip;e.isTimePicker&&(i=e.messages.timeIconTooltip),d._iconWrapper=a("<span class='sui-icon-wrapper' unselectable='on' title='"+i+"' />").appendTo(h);a('<span class="sui-sprite sui-calendar-icon" unselectable="on">'+e.messages.buttonText+"</span>").appendTo(d._iconWrapper);e.isDateTimePicker&&(d._timeIconWrapper=a("<span class='sui-time-icon-wrapper' unselectable='on' title='"+e.messages.timeIconTooltip+"' />").appendTo(h),a('<span class="sui-sprite sui-time-icon" unselectable="on">'+e.messages.buttonText+"</span>").appendTo(d._timeIconWrapper))}if(a(b).css(T,U).appendTo(h),d._enabled=e.enabled,e.enabled||(h.addClass("sui-disabled"),d._visibleInput.on(K,d._visibleInputFocused=v(d._visibleInputFocusedHandler,d))),d._attachEvents(),!f){var j=d._value();j&&(f=j)}f&&(C(f)&&(f=new Date(f)),e.isMonthYearPicker?d._selectedDate=new Date(f.getFullYear(),f.getMonth(),1):d._selectedDate=f,d._changeInputsValues(f))},_changeInputsValues:function(a){var b=this,c=b.options,d=c.format,e=c.textTemplate,f=t(d)?d:function(a){return q(d,a.date)};b._value(f.call(b,{date:a}));var g=t(e)?e:function(a){return q(e,a.date)};b._visibleInput.get(0).value=g.call(b,{date:a}),c.isMonthYearPicker?b._selectedDate=new Date(a.getFullYear(),a.getMonth(),1):b._selectedDate=a},_attachEvents:function(){var b=this,c=b.options;c.showButton&&(c.isTimePicker?b._iconWrapper.on(H,b._toggleListBoxVisibility=v(b._toggleListBoxVisibilityHandler,b)):c.isDateTimePicker?(b._timeIconWrapper.on(H,b._toggleListBoxVisibility=v(b._toggleListBoxVisibilityHandler,b)),b._iconWrapper.on(H,b._toggleCalendarVisibility=v(b._toggleCalendarVisibilityHandler,b))):b._iconWrapper.on(H,b._toggleCalendarVisibility=v(b._toggleCalendarVisibilityHandler,b))),b._visibleInput.on(J,b._visibleInputKeyPress=v(b._visibleInputKeyPressHandler,b)),a(s).on(I+".shieldDatePicker"+b.getInstanceId(),v(b._hidePopupHandler,b)),b._visibleInput.on(K,b._visibleInputFocused=v(b._visibleInputFocusedHandler,b)),b._visibleInput.on(S,b._visibleInputBlured=v(b._visibleInputBluredHandler,b)),b._visibleInput.on(N,b._visibleInputChanged=v(b._visibleInputChangedHandler,b))},_visibleInputChangedHandler:function(){var a=this,b=a.options,c=b.format,d=b.min,e=b.max;if(a._enabled){a._selectedDate=r(a._visibleInput.get(0).value,b.parseFormats),a._selectedDate&&(a._selectedDate.getTime()>e||a._selectedDate.getTime()<d)&&(b.isTimePicker?a._selectedDate=new Date(d.getFullYear(),d.getMonth(),d.getDate(),a._selectedDate.getHours(),a._selectedDate.getMinutes(),a._selectedDate.getSeconds()):a._selectedDate=null),null!=a._selectedDate&&(a._selectedDate&&a.calendar&&a.calendar.value(a._selectedDate),a._selectedDate&&a.listBox&&a._selectValueInListBox(a._selectedDate));var f=t(c)?c:function(a){return q(c,a.date)};a.element.get(0).value=f.call(a,{date:a._selectedDate}),a.trigger(N)}},_visibleInputFocusedHandler:function(a){var b=this,c=b.options;return b._enabled?(c.isMonthYearPicker?b._wrapper.addClass("sui-monthyearpicker-focus"):c.isTimePicker?b._wrapper.addClass("sui-timepicker-focus"):c.isDateTimePicker?b._wrapper.addClass("sui-datetimepicker-focus"):b._wrapper.addClass("sui-datepicker-focus"),void(c.openOnFocus&&(!b._shouldShowPopup&&b.calendar||(b._toggleCalendarVisibilityHandler(),b._shouldShowPopup=!1)))):void a.target.blur()},_visibleInputBluredHandler:function(){var a=this,b=a.options,c=a._wrapper;b.isMonthYearPicker?c.removeClass("sui-monthyearpicker-focus"):b.isTimePicker?c.removeClass("sui-timepicker-focus"):b.isDateTimePicker?c.removeClass("sui-datetimepicker-focus"):c.removeClass("sui-datepicker-focus")},_visibleInputKeyPressHandler:function(a){var b=this,c=b.options;if(b._enabled){if(c.editable===!1)return a.preventDefault(),void a.stopPropagation();var d=a.keyCode||a.charCode;13!=d&&9!=d&&27!=d||(b._shouldShowPopup=!0,b.calendar&&b.calendar.element.css(T)!=U&&(b.calendar.element.css(T,U),b.trigger(R)))}},_hidePopupHandler:function(b){var c,d=this;if(d.listBox){if(d._visibleInput.get(0)==b.target||d._iconWrapper&&d._iconWrapper.get(0)==b.target||d._iconWrapper&&d._iconWrapper.children(0).get(0)==b.target||d._timeIconWrapper&&d._timeIconWrapper.get(0)==b.target||d._timeIconWrapper&&d._timeIconWrapper.children(0).get(0)==b.target)return;d._popupIsOver?(c=d.listBox.element.parent().height(),d.listBox.element.parent().animate({height:0,top:d._visibleInput.offset().top},150,function(){a(this).css(T,U),a(this).css("height",c)})):d.listBox.element.parent().slideUp(150,function(){}),d._shouldShowPopup=!0}if(d.calendar){if(d._visibleInput.get(0)==b.target||d._iconWrapper&&d._iconWrapper.get(0)==b.target||d._iconWrapper&&d._iconWrapper.children(0).get(0)==b.target)return;d._popupIsOver?(c=d.calendar.element.height(),d.calendar.element.animate({height:0,top:d._visibleInput.offset().top},150,function(){a(this).css(T,U),a(this).css("height",c)})):d.calendar.element.slideUp(150,function(){}),d._shouldShowPopup=!0}},_toggleListBoxVisibilityHandler:function(){var a=this,b=a.options,c=b.listBox;if(a._enabled){if(!a.listBox){new W({listbox:c,parent:a,min:b.min,max:b.max,interval:b.interval,textTemplate:b.isDateTimePicker?b.timeFormat:b.textTemplate});a.listBox.on(M,a._listBoxChange=v(a._listBoxChangeHandler,a)),a.listBox.element.on(I,a._popupMouseDown=v(a._popupMouseDownHandler,a)),a._selectedDate&&a._selectValueInListBox(a._selectedDate)}b.isDateTimePicker&&(a.calendar&&a.calendar.element.css(T)!=U&&(a.calendar.element.slideUp(150,function(){}),a._shouldShowPopup=!0),a._toggleTimePopup=!0),a._shouldShowPopup?a._showPopup():a._hidePopup(),a._shouldShowPopup?a._shouldShowPopup=!1:a._shouldShowPopup=!0}},_listBoxChangeHandler:function(c){var d=this;if(d.options.isDateTimePicker){var e=d._selectedDate,f=c.item;e?d._selectedDate=new Date(e.getFullYear(),e.getMonth(),e.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()):(e=new Date,d._selectedDate=new Date(e.getFullYear(),e.getMonth(),e.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()))}else d._selectedDate=c.item;var g=d.options,h=g.isDateTimePicker?b.format(g.timeFormat,d._selectedDate):b.format(g.textTemplate,d._selectedDate),i=d.listBox.element.find(".sui-listbox-item"),j=0;for(j;j<i.length;j++)if(i[j].innerHTML==h){d._selectedElement=a(i[j]);break}d._changeInputsValues(d._selectedDate),d._hidePopup(),d._shouldShowPopup=!0,d.trigger(N)},_toggleCalendarVisibilityHandler:function(){var c=this,d=c.options,e=d.calendar;c._enabled&&(c.calendar||(b.ui.Calendar&&(u.object(e)&&e instanceof b.ui.Calendar?c.calendar=e:(c._wrapper.parent().hasClass("sui-rtl")?(c._calendarWrapper=a("<div style='display: none;' />").appendTo(s.body),c._calendarWrapper.wrap("<span class='sui-rtl'></span>")):c._calendarWrapper=a("<div style='display: none;' />").appendTo(s.body),c.calendar=new b.ui.Calendar(c._calendarWrapper,A({},e,{min:d.min,max:d.max}))),c._shouldShowPopup=!0),c.calendar.on(N,c._calendarChange=v(c._calendarChangeHandler,c)),c.calendar.element.on(I,c._popupMouseDown=v(c._popupMouseDownHandler,c)),c._selectedDate&&c.calendar.value(c._selectedDate)),d.isDateTimePicker&&(c.listBox&&c.listBox.element.parent().css(T)!=U&&(c.listBox.element.parent().slideUp(150,function(){}),c._shouldShowPopup=!0),c._toggleTimePopup=!1),c._shouldShowPopup?c._showPopup():c._hidePopup(),c._shouldShowPopup?c._shouldShowPopup=!1:c._shouldShowPopup=!0)},_calendarChangeHandler:function(){var a,b=this,c=b.options;c.isMonthYearPicker?(a=b.calendar.value(),b._selectedDate=new Date(a.getFullYear(),a.getMonth(),1)):c.isDateTimePicker?(a=b.calendar.value(),b._selectedDate?b._selectedDate=new Date(a.getFullYear(),a.getMonth(),a.getDate(),b._selectedDate.getHours(),b._selectedDate.getMinutes(),b._selectedDate.getSeconds()):b._selectedDate=b.calendar.value()):b._selectedDate=b.calendar.value(),b._changeInputsValues(b._selectedDate),b._hidePopup(),b._shouldShowPopup=!0,b.trigger(N)},_calculateLeftOffsetWhenRtl:function(){var a,b=this,c=b.options,d=(b._wrapper.offset(),0);return c.isTimePicker||c.isDateTimePicker&&b._toggleTimePopup?(a=b._visibleInput.offset().left-(b.listBox.element.parent().width()-b._visibleInput.width()),a>0&&(d=a)):(a=b._visibleInput.offset().left-(b.calendar.element.width()-b._visibleInput.width()),a>0&&(d=a)),d},_showPopup:function(){var b,d=this,e=d.options,f=d._wrapper.offset(),g=f.top-a(s).scrollTop(),h=d._wrapper.height(),i=a(c).height(),j=f.top+h,k=f.left;d._wrapper.parent().hasClass("sui-rtl")&&(k=d._calculateLeftOffsetWhenRtl()),b=e.isTimePicker||e.isDateTimePicker&&d._toggleTimePopup?d.listBox.element.parent().height():d.calendar.element.height(),i<b+g+h?j=f.top-b-1:j++,(j<0||a(s).scrollTop()>j)&&(j=f.top+h+1),d._visibleInput.offset().top>j?d._popupIsOver=!0:d._popupIsOver=!1,e.isTimePicker||e.isDateTimePicker&&d._toggleTimePopup?d._popupIsOver?(d.listBox.element.parent().css({position:"absolute",zIndex:10002,top:j+b,left:k,height:0,display:""}),d.listBox.element.parent().animate({height:b,top:j+2},150)):(d.listBox.element.parent().css({position:"absolute",top:j,left:k,zIndex:10002}),d.listBox.element.parent().slideDown(150,function(){if(d._selectedElement){var a=Math.abs(d._selectedElement.get(0).offsetTop),b=d._selectedElement.parent().scrollTop();a>d._selectedElement.parent().get(0).scrollTopMax&&(a=d._selectedElement.parent().get(0).scrollTopMax),b+d.listBox.element.height()>a&&b<a||d.listBox.element.scrollTop(a)}})):d._popupIsOver?(d.calendar.element.css({position:"absolute",zIndex:10002,top:j+b,left:k,height:0,display:""}),d.calendar.element.animate({height:b,top:j},150)):(d.calendar.element.css({position:"absolute",zIndex:10002,top:j,left:k}),d.calendar.element.slideDown(150,function(){})),d.trigger(Q)},_hidePopup:function(){var b,c=this,d=c.options;d.isTimePicker||d.isDateTimePicker&&c._toggleTimePopup?c.listBox&&c.listBox.element.parent().css(T)!=U&&(c._popupIsOver?(b=c.listBox.element.parent().height(),c.listBox.element.parent().animate({height:0,top:c._visibleInput.offset().top},150,function(){a(this).css(T,U),a(this).css("height",b)})):c.listBox.element.parent().slideUp(150,function(){})):c.calendar&&c.calendar.element.css(T)!=U&&(c._popupIsOver?(b=c.calendar.element.height(),c.calendar.element.animate({height:0,top:c._visibleInput.offset().top},150,function(){a(this).css(T,U),a(this).css("height",b)})):c.calendar.element.slideUp(150,function(){})),c.trigger(R)},_popupMouseDownHandler:function(a){a.preventDefault(),a.stopPropagation()},_selectValueInListBox:function(c){var d=this;if(d.listBox){var e,f=d.options,g=f.isDateTimePicker?b.format(f.timeFormat,c):b.format(f.textTemplate,c),h=d.listBox.element.find(".sui-listbox-item");for(e=0;e<h.length;e++)if(h[e].innerHTML==g){d._selectedElement=a(h[e]);break}d.listBox.selected(e,!0)}},enabled:function(){var a=this,b=(a.options,[].slice.call(arguments));if(!(b.length>0))return a._enabled;var c=b[0];a._enabled=c,c?(a._visibleInputFocused&&(a._visibleInput.off(K,a._visibleInputFocused),a._visibleInputFocused=null),a._wrapper.removeClass("sui-disabled")):(a._wrapper.addClass("sui-disabled"),a._visibleInput.on(K,a._visibleInputFocused=v(a._visibleInputFocusedHandler,a)))},visible:function(){var a=this,b=(a.options,[].slice.call(arguments));if(!(b.length>0))return!a._wrapper.hasClass("sui-hidden")&&"none"!=a._wrapper.css("display");var c=b[0];c?a._wrapper.removeClass("sui-hidden"):a._wrapper.addClass("sui-hidden")},focus:function(){a(this._visibleInput).focus()},_value:function(){return this.element.attr.apply(this.element,["value"].concat([].slice.call(arguments)))},value:function(){var a=this,b=a.options,c=b.min,d=b.max,e=[].slice.call(arguments);if(!(e.length>0))return a._selectedDate;var f=e[0];return null==f||""===f||B(f)?(a._visibleInput.get(0).value="",a._selectedDate=null,a.calendar&&a.calendar.value(null),void((b.isTimePicker||b.isDateTimePicker)&&a.listBox&&a.listBox.clearSelection())):void(!b.isTimePicker&&(f.getTime()<c.getTime()||f.getTime()>d.getTime())||(a._changeInputsValues(f),
a.calendar&&a.calendar.value(f),a._selectedDate=f,(b.isTimePicker||b.isDateTimePicker)&&a._selectValueInListBox(f)))},close:function(){var a=this,b=[].slice.call(arguments);a.options.isDateTimePicker?b.length>0&&("calendar"==b[0]&&(a._shouldShowPopup=!1,a._toggleCalendarVisibilityHandler()),"timeview"==b[0]&&(a._shouldShowPopup=!1,a._toggleListBoxVisibilityHandler())):(a._shouldShowPopup=!1,a._toggleCalendarVisibilityHandler())},open:function(){var a=this,b=[].slice.call(arguments);a.options.isDateTimePicker?b.length>0&&("calendar"==b[0]&&(a._shouldShowPopup=!0,a._toggleCalendarVisibilityHandler()),"timeview"==b[0]&&(a._shouldShowPopup=!0,a._toggleListBoxVisibilityHandler())):(a._shouldShowPopup=!0,a._toggleCalendarVisibilityHandler())},destroy:function(){var b=this;b.options.isTimePicker?(b._iconWrapper.off(H,b._toggleListBoxVisibility),b._toggleListBoxVisibility=null):b.options.isDateTimePicker?(b._iconWrapper.off(H,b._toggleListBoxVisibility),b._toggleListBoxVisibility=null,b._timeIconWrapper=null,b._iconWrapper.off(H,b._toggleCalendarVisibility),b._toggleCalendarVisibility=null):(b._iconWrapper.off(H,b._toggleCalendarVisibility),b._toggleCalendarVisibility=null),b._iconWrapper=null,b._popupIsOver=null,a(s).off(I+".shieldDatePicker"+b.getInstanceId()),a(b.element).css(T,"").insertAfter(b._wrapper),b._wrapper.remove(),b._wrapper=null,b._destroyCalendar(),b._destroyListBox(),b._shouldShowPopup=null,b._visibleInput.off(K,b._visibleInputFocused),b._visibleInput.off(N,b._visibleInputChanged),b._visibleInput.off(S,b._visibleInputBlured),b._visibleInputFocused=null,b._visibleInputChanged=null,b._visibleInputBlured=null,b._visibleInput=null,b._selectedDate=null,b._enabled=null,o.fn.destroy.call(b)},_destroyCalendar:function(){var a=this;a.calendar&&(a.calendar.off(N,a._calendarChange),a._calendarChange=null,a.calendar.element.off(I,a._popupMouseDown),a._popupMouseDown=null,a.calendar.destroy(),a.calendar=null,a._calendarWrapper&&a._calendarWrapper.remove())},_destroyListBox:function(){var a=this;a.listBox&&(a._selectedElement=null,a.listBox.off(N,a._listBoxChange),a._listBoxChange=null,a.listBox.destroy(),a.listBox=null,a._listBoxWrapper&&(a._listBoxWrapper.remove(),a._listBoxWrapper=null))}}),h.defaults=g,b.ui.plugin("DatePicker",h),j=A({},g,{isMonthYearPicker:!0,calendar:{view:{depth:E,start:E}},format:"{0:MMMM yyyy}",textTemplate:"{0:MMMM yyyy}",parseFormats:["MMMM yyyy"]}),i=h.extend({init:function(a,b){b&&(b.isMonthYearPicker=!0),h.prototype.init.call(this,a,b)}}),i.defaults=j,b.ui.plugin("MonthYearPicker",i),l=A({},g,{isTimePicker:!0,listBox:null,format:"{0:h:mm tt}",textTemplate:"{0:h:mm tt}",parseFormats:["h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(1900,0,1,0,0,0),messages:{timeIconTooltip:"",buttonText:"select"}}),k=h.extend({init:function(a,b){b&&(b.isTimePicker=!0),h.prototype.init.call(this,a,b)}}),k.defaults=l,b.ui.plugin("TimePicker",k),n=A({},g,{isDateTimePicker:!0,listBox:null,format:"{0:MM/dd/yyyy h:mm tt}",textTemplate:"{0:MM/dd/yyyy h:mm tt}",parseFormats:["MM/dd/yyyy h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(2099,11,31,0,0,0),messages:{calendarIconTooltip:"",timeIconTooltip:"",buttonText:"select"},timeFormat:"{0:h:mm tt}"}),m=h.extend({init:function(a,b){b&&(b.isDateTimePicker=!0),h.prototype.init.call(this,a,b)}}),m.defaults=n,b.ui.plugin("DateTimePicker",m)}(jQuery,shield,this);